sources:
    - name: raw
      description: "Raw data source"
      schema: raw
      tables:
        - name: raw_orders
          description: "Raw order data"


models:
    - name: stg_orders
      description: "Staging view for order data"
      schema: stg
      columns:
        - name: order_id
          description: "Unique identifier for order"
          tests:
            - unique
            - not_null
      tests:
        - expression_is_true:
            expression: "order_total - tax_paid = subtotal"